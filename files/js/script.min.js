var FOS=window.FOS||{};FOS.interactiveGrid=FOS.interactiveGrid||{},FOS.interactiveGrid.processRows=function(e,t,s){var r="danger",a="error",i="info",n="success",l="warning",o="FOS - Interactive Grid - Process Rows";apex.debug.info(o,t),s instanceof Function&&(fostr=fostr||{},s.call(e,t,c));var c={};c={dismiss:["onClick","onButton"],dismissAfter:t.dismissAfter,newestOnTop:!0,preventDuplicates:!1,escapeHtml:!1,position:"top-right",iconClass:null,clearAll:!1};var d,p,u=e.action.affectedRegionId,m=t.ajaxId,f=apex.region(u);if(!f||"InteractiveGrid"!=f.type)throw new Error('The affected element of plug-in "'+o+'" must be an Interactive Grid region.');if("selection"==t.mode){var g=f.call("getSelectedRecords");if(t.refreshSelection&&(p=g),0==g.length){apex.debug.info("No selected records. Continuing without server call."),apex.lang.hasMessage("APEX.GV.SELECTION_COUNT")&&($.extend(c,{message:apex.lang.formatMessage("APEX.GV.SELECTION_COUNT",0),title:void 0,type:l}),fostr[l](c));return void apex.da.resume(e.resumeCallback,!1)}var v=f.call("getViews","grid").model,x={recordKeys:g.map((function(e){return v._getPrimaryKey(e)}))};d=apex.server.chunk(JSON.stringify(x))}apex.server.plugin(m,{f01:d,pageItems:t.itemsToSubmit}).done((function(s){var o=!1,d=s.message,m=s.messageTitle,g=s.messageType&&[i,l,n,a,r].includes(s.messageType)?s.messageType:"success";if(g=g===r?a:g,o=!!s.cancelActions,m&&t.performSubstitutions&&(m=apex.util.applyTemplate(m,{defaultEscapeFilter:null})),d&&t.performSubstitutions&&(d=apex.util.applyTemplate(d,{defaultEscapeFilter:null})),m&&t.escapeMessage&&(m=apex.util.escapeHTML(m)),d&&t.escapeMessage&&(d=apex.util.escapeHTML(d)),s.status==n){if(s.itemsToReturn)for(var v=0;v<s.itemsToReturn.length;v++)apex.item(s.itemsToReturn[v].name).setValue(s.itemsToReturn[v].value);t.refreshSelection&&f.call("getViews","grid").model.fetchRecords(p),t.refreshGrid&&(f.refresh(),t.removeSelection&&$("#"+u).one("interactivegridselectionchange",(e=>{f.call("setSelectedRecords","")}))),t.removeSelection&&!t.refreshGrid&&f.call("setSelectedRecords",""),d&&($.extend(c,{message:d,title:m,type:g}),fostr[g](c))}else o=!0,d&&($.extend(c,{message:d,title:m,type:a}),fostr.error(c));s.eventName&&apex.event.trigger("body",s.eventName,s),apex.da.resume(e.resumeCallback,o)})).fail((function(t,s,r){apex.da.handleAjaxErrors(t,s,r,e.resumeCallback)}))};